<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introducing edgarWebR • edgarWebR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Introducing edgarWebR">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">edgarWebR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/edgarWebR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/parsing.html">Parsing Functions in edgarWebR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mwaldstein/edgarWebR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introducing edgarWebR</h1>
                        <h4 class="author">Micah J Waldstein <a href="mailto:micah@waldste.in">micah@waldste.in</a>
</h4>
            
            <h4 class="date">August 2, 2017</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mwaldstein/edgarWebR/blob/master/vignettes/edgarWebR.Rmd"><code>vignettes/edgarWebR.Rmd</code></a></small>
      <div class="hidden name"><code>edgarWebR.Rmd</code></div>

    </div>

    
    
<p>There are plenty of packages for R that allow for fetching and manipulation of companies’ financial data, often fetching that direct from public filings with the SEC. All of these packages have the goal of getting to the XBRL data, containing financial statements, typically in annual (10-K) or quarterly (10-Q) filings.</p>
<p>SEC filings however contain far more information. edgarWebR is the first step in accessing that data by providing an interface to the SEC EDGAR search tools and the metadata they provide.</p>
<div id="current-features" class="section level2">
<h2 class="hasAnchor">
<a href="#current-features" class="anchor"></a>Current Features</h2>
<ul>
<li>Search for companies and mutual funds.</li>
<li>List filings for a company or mutual fund.</li>
<li>Get all information associated with a particular filing</li>
</ul>
</div>
<div id="simple-usecase" class="section level2">
<h2 class="hasAnchor">
<a href="#simple-usecase" class="anchor"></a>Simple Usecase</h2>
<p>Using information about filings, we can use edgarWebR to see how long after the close of a financial period it takes for a company to make a filing. We can also see how that time has changed.</p>
<div id="get-data" class="section level3">
<h3 class="hasAnchor">
<a href="#get-data" class="anchor"></a>Get Data</h3>
<p>First, we’ll fetch a bunch of 10-K and 10-Q filings for our given company using <code><a href="../reference/company_filings.html">company_filings()</a></code>. To make sure we’re going far enough back we’ll take a peak at the tail of our results</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ticker &lt;-<span class="st"> "EA"</span>

filings &lt;-<span class="st"> </span><span class="kw"><a href="../reference/company_filings.html">company_filings</a></span>(ticker, <span class="dt">type =</span> <span class="st">"10-"</span>, <span class="dt">count =</span> <span class="dv">100</span>)
initial_count &lt;-<span class="st"> </span><span class="kw">nrow</span>(filings)
<span class="co"># Specifying the type provides all forms that start with 10-, so we need to</span>
<span class="co"># manually filter.</span>
filings &lt;-<span class="st"> </span>filings[filings<span class="op">$</span>type <span class="op">==</span><span class="st"> "10-K"</span> <span class="op">|</span><span class="st"> </span>filings<span class="op">$</span>type <span class="op">==</span><span class="st"> "10-Q"</span>, ]</code></pre></div>
<p>Note that explicitly filtering caused us to go from 97 to 93 rows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filings<span class="op">$</span>md_href &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">"[Link]("</span>, filings<span class="op">$</span>href, <span class="st">")"</span>)
knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw">tail</span>(filings)[, <span class="kw">c</span>(<span class="st">"type"</span>, <span class="st">"filing_date"</span>, <span class="st">"accession_number"</span>, <span class="st">"size"</span>,
                               <span class="st">"md_href"</span>)],
             <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">"Type"</span>, <span class="st">"Filing Date"</span>, <span class="st">"Accession No."</span>, <span class="st">"Size"</span>, <span class="st">"Link"</span>),
             <span class="dt">digits =</span> <span class="dv">2</span>,
             <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">big.mark =</span> <span class="st">","</span>))</code></pre></div>
<table class="table">
<thead><tr class="header">
<th></th>
<th align="left">Type</th>
<th align="left">Filing Date</th>
<th align="left">Accession No.</th>
<th align="left">Size</th>
<th align="left">Link</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>91</td>
<td align="left">10-Q</td>
<td align="left">1996-08-14</td>
<td align="left">0000950005-96-000615</td>
<td align="left">72 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000950005-96-000615-index.html">Link</a></td>
</tr>
<tr class="even">
<td>92</td>
<td align="left">10-K</td>
<td align="left">1996-07-01</td>
<td align="left">0000912057-96-013563</td>
<td align="left">197 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000912057-96-013563-index.html">Link</a></td>
</tr>
<tr class="odd">
<td>93</td>
<td align="left">10-Q</td>
<td align="left">1996-02-14</td>
<td align="left">0000912057-96-002551</td>
<td align="left">85 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000912057-96-002551-index.html">Link</a></td>
</tr>
<tr class="even">
<td>94</td>
<td align="left">10-Q</td>
<td align="left">1995-11-14</td>
<td align="left">0000912057-95-009843</td>
<td align="left">83 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000912057-95-009843-index.html">Link</a></td>
</tr>
<tr class="odd">
<td>95</td>
<td align="left">10-Q</td>
<td align="left">1995-08-10</td>
<td align="left">0000912057-95-006218</td>
<td align="left">142 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000912057-95-006218-index.html">Link</a></td>
</tr>
<tr class="even">
<td>97</td>
<td align="left">10-Q</td>
<td align="left">1995-02-13</td>
<td align="left">0000912057-95-000644</td>
<td align="left">83 KB</td>
<td align="left"><a href="https://www.sec.gov/Archives/edgar/data/712515/0000912057-95-000644-index.html">Link</a></td>
</tr>
</tbody>
</table>
<p>We’ve received filings dating back to 1995 which seems good enough for our purposes, so next we’ll get the filing information for each filing.</p>
<p>So far we’ve done everything in base R, but now we’ll use some useful functions from dplyr and purrr to make things a bit easier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this can take a while - we're fetching ~100 html files!</span>
filing_infos &lt;-<span class="st"> </span><span class="kw">map_df</span>(filings<span class="op">$</span>href, filing_information)

filings &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(filings, filing_infos)
filings<span class="op">$</span>filing_delay &lt;-<span class="st"> </span>filings<span class="op">$</span>filing_date <span class="op">-</span><span class="st"> </span>filings<span class="op">$</span>period_date

<span class="co"># Take a peak at the data</span>
knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw">head</span>(filings) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(type, filing_date, period_date,
                                      filing_delay, documents, bytes) <span class="op">%&gt;%</span>
<span class="st">             </span><span class="kw">mutate</span>(<span class="dt">filing_delay =</span> <span class="kw">as.numeric</span>(filing_delay)),
             <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">"Type"</span>, <span class="st">"Filing Date"</span>, <span class="st">"Period Date"</span>, <span class="st">"Delay"</span>,
                           <span class="st">"Documents"</span>, <span class="st">"Size (B)"</span>),
             <span class="dt">digits =</span> <span class="dv">2</span>,
             <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">big.mark =</span> <span class="st">","</span>))</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Type</th>
<th align="left">Filing Date</th>
<th align="left">Period Date</th>
<th align="right">Delay</th>
<th align="right">Documents</th>
<th align="right">Size (B)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">10-K</td>
<td align="left">2018-05-23</td>
<td align="left">2018-03-31</td>
<td align="right">53.00</td>
<td align="right">129</td>
<td align="right">15,691,834</td>
</tr>
<tr class="even">
<td align="left">10-Q</td>
<td align="left">2018-02-06</td>
<td align="left">2017-12-31</td>
<td align="right">37.00</td>
<td align="right">94</td>
<td align="right">11,486,015</td>
</tr>
<tr class="odd">
<td align="left">10-Q</td>
<td align="left">2017-11-07</td>
<td align="left">2017-09-30</td>
<td align="right">38.04</td>
<td align="right">88</td>
<td align="right">9,961,835</td>
</tr>
<tr class="even">
<td align="left">10-Q</td>
<td align="left">2017-08-08</td>
<td align="left">2017-06-30</td>
<td align="right">39.00</td>
<td align="right">87</td>
<td align="right">8,947,076</td>
</tr>
<tr class="odd">
<td align="left">10-K</td>
<td align="left">2017-05-24</td>
<td align="left">2017-03-31</td>
<td align="right">54.00</td>
<td align="right">127</td>
<td align="right">14,944,223</td>
</tr>
<tr class="even">
<td align="left">10-Q</td>
<td align="left">2017-02-07</td>
<td align="left">2016-12-31</td>
<td align="right">38.00</td>
<td align="right">89</td>
<td align="right">10,322,322</td>
</tr>
</tbody>
</table>
</div>
<div id="basic-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-analysis" class="anchor"></a>Basic Analysis</h3>
<p>Now our data is arranged, we can run some summary statistics and plot using ggplot2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(filings <span class="op">%&gt;%</span>
<span class="st">             </span><span class="kw">group_by</span>(type) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(
               <span class="dt">n =</span> <span class="kw">n</span>(),
               <span class="dt">avg_delay =</span> <span class="kw">as.numeric</span>(<span class="kw">mean</span>(filing_delay)),
               <span class="dt">median_delay =</span> <span class="kw">as.numeric</span>(<span class="kw">median</span>(filing_delay)),
               <span class="dt">avg_size =</span> <span class="kw">mean</span>(bytes <span class="op">/</span><span class="st"> </span><span class="dv">1024</span>),
               <span class="dt">avg_docs =</span> <span class="kw">mean</span>(documents)
             ),
             <span class="dt">col.names =</span> <span class="kw">c</span>(<span class="st">"Type"</span>, <span class="st">"Count"</span>, <span class="st">"Avg. Delay"</span>, <span class="st">"Median Delay"</span>,
                           <span class="st">"Avg. Size"</span>, <span class="st">"Avg. Docs"</span>),
             <span class="dt">digits =</span> <span class="dv">2</span>,
             <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">big.mark =</span> <span class="st">","</span>))</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Type</th>
<th align="right">Count</th>
<th align="right">Avg. Delay</th>
<th align="right">Median Delay</th>
<th align="right">Avg. Size</th>
<th align="right">Avg. Docs</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">10-K</td>
<td align="right">23</td>
<td align="right">67.33</td>
<td align="right">60.00</td>
<td align="right">7,217.39</td>
<td align="right">26.83</td>
</tr>
<tr class="even">
<td align="left">10-Q</td>
<td align="right">70</td>
<td align="right">39.96</td>
<td align="right">39.04</td>
<td align="right">4,595.07</td>
<td align="right">16.40</td>
</tr>
</tbody>
</table>
<p>No surprise, yearly filings (10-K’s) are larger and take more time than quarterly filings (10-K’s). Lets see how the times are distributed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(filings, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(type), <span class="dt">y =</span> filing_delay)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_violin</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_jitter</span>(<span class="dt">height =</span> <span class="dv">0</span>, <span class="dt">width =</span> <span class="fl">0.1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Filing Date"</span>, <span class="dt">y =</span> <span class="st">"Filing delay (days)"</span>)
<span class="co">#&gt; Don't know how to automatically pick scale for object of type difftime. Defaulting to continuous.</span></code></pre></div>
<p><img src="edgarWebR_files/figure-html/plotDelay-1.png" width="576"></p>
<p>We can also examine how the filing delay has changed over time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(filings, <span class="kw">aes</span>(<span class="dt">x =</span> filing_date, <span class="dt">y =</span> filing_delay, <span class="dt">group =</span> type, <span class="dt">color =</span> type)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Filing Type"</span>, <span class="dt">y =</span> <span class="st">"Filing delay (days)"</span>)
<span class="co">#&gt; Don't know how to automatically pick scale for object of type difftime. Defaulting to continuous.</span></code></pre></div>
<p><img src="edgarWebR_files/figure-html/plotType-1.png" width="576"></p>
<p>Whether because of some internal change or change to SEC rules, the time between the end of the fiscal year and the 10-K has dropped quite a bit, though there is still a bit of variation.</p>
<p>An interesting extension would be to compare the filing delays to the company’s stock price, overall market performance and other companies to see if there are particular drivers to the pattern.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(filings, <span class="kw">aes</span>(<span class="dt">x =</span> filing_date, <span class="dt">y =</span> bytes <span class="op">/</span><span class="st"> </span><span class="dv">1024</span>, <span class="dt">group =</span> type, <span class="dt">color =</span> type)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Filing Type"</span>, <span class="dt">y =</span> <span class="st">"Filing Size (KB)"</span>)</code></pre></div>
<p><img src="edgarWebR_files/figure-html/plotSize-1.png" width="576"></p>
<p>The jump in size ~2010 is the requirement for inclusion of financial datafiles starting, but there is still interesting variations.</p>
</div>
</div>
<div id="more-to-come" class="section level2">
<h2 class="hasAnchor">
<a href="#more-to-come" class="anchor"></a>More to come</h2>
<p>The SEC contains a wealth of information and we’re only scratching the surface. edgarWebR itself has a lot more functionality than what we’ve explored here and there is more coming.</p>
</div>
<div id="how-to-download" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-download" class="anchor"></a>How to Download</h2>
<p>edgarWebR is available from CRAN, so can be simply installed via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"edgarWebR"</span>)</code></pre></div>
<p>If you want the latest and greatest, you can get a copy of the development version from github by using devtools:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"mwaldstein/edgarWebR"</span>)</code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#current-features">Current Features</a></li>
      <li><a href="#simple-usecase">Simple Usecase</a></li>
      <li><a href="#more-to-come">More to come</a></li>
      <li><a href="#how-to-download">How to Download</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Micah J Waldstein.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
